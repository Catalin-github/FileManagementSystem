{"ast":null,"code":"import { LOGIN_REQUEST, LOGIN_SUCCES, LOGIN_ERROR } from \"./actionType\"; // import cookie from \"js-cookie\";\n\nexport const fetchUsersLogin = ({\n  username,\n  password\n}) => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(\"http://localhost:5000/\", {\n      method: \"GET\",\n      // headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: {\n        username: username,\n        password: password\n      } //\"password\"),\n\n    }).then(res => {\n      console.log(\"salut\"); // cookie.set(\"token\", res.data.access_token);\n      // cookie.set(\"user\", res.data.user);\n      // this.props.history.push(\"/profile\");\n\n      console.log(res.status); //console.log(res);\n      //console.log(res.text());\n\n      console.log(\"salut\");\n\n      if (res.status >= 200 && res.status < 400) {\n        console.log(res);\n        dispatch(this.loginSuccess());\n        console.log(\"Succes\");\n      } else {\n        //   console.log(res);\n        const error = new Error(res);\n        throw error;\n      }\n    }).catch(err => {\n      dispatch(loginError()); // console.error(err.value);\n\n      console.log(\"2111111113222222222222222222\");\n    });\n  };\n};\nexport const loginRequest = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\nexport const loginSucces = res => {\n  return {\n    type: LOGIN_SUCCES,\n    payload: res.data\n  };\n};\nexport const loginError = err => {\n  return {\n    type: LOGIN_ERROR,\n    payload: err\n  };\n};\nexport const fetchUsersRegister = data => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(`http://localhost:2000/api/user/create`, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      // cookie.set(\"token\", res.data.access_token);\n      // cookie.set(\"user\", res.data.user);\n      //////// this.props.history.push(\"/profile\");\n      if (res.status === 201) {\n        dispatch(this.loginSuccess(res));\n        console.log(res.email);\n        console.log(res.headers);\n        console.log(\"Succes\");\n      } else {\n        console.log(res);\n        const error = new Error(res);\n        throw error;\n      }\n    }).catch(err => {\n      dispatch(loginError(err));\n      console.error(err.value);\n    });\n  };\n};\nexport const fetchUsersData = ({\n  username,\n  password\n}) => {\n  return dispatch => {\n    dispatch(this.loginRequest());\n    fetch(\"http://localhost:5080/login\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: {\n        username: username,\n        password: password\n      } //\"password\"),\n\n    }).then(res => {\n      console.log(res.status);\n      console.log(res.text());\n      console.log(\"Salutttttttttttttttt\");\n      console.log(res.body);\n\n      if (res.status === 200) {\n        console.log(res);\n        dispatch(this.loginSuccess());\n        console.log(\"Succes\");\n      } else {\n        console.log(res);\n        const error = new Error(res);\n        throw error;\n      }\n    }).catch(err => {\n      dispatch(loginError());\n      console.error(err.value);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/Samuel M/React/Project/project-app/src/redux/Authentication/action.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCES","LOGIN_ERROR","fetchUsersLogin","username","password","dispatch","loginRequest","fetch","method","body","then","res","console","log","status","loginSuccess","error","Error","catch","err","loginError","type","loginSucces","payload","data","fetchUsersRegister","JSON","stringify","headers","email","value","fetchUsersData","text"],"mappings":"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","sourcesContent":["import { LOGIN_REQUEST, LOGIN_SUCCES, LOGIN_ERROR } from \"./actionType\";\r\n// import cookie from \"js-cookie\";\r\nexport const fetchUsersLogin = ({ username, password }) => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(\"http://localhost:5000/\", {\r\n      method: \"GET\",\r\n     // headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: { username: username, password: password }, //\"password\"),\r\n    })\r\n      .then((res) => {\r\n        console.log(\"salut\");\r\n\r\n        // cookie.set(\"token\", res.data.access_token);\r\n        // cookie.set(\"user\", res.data.user);\r\n       // this.props.history.push(\"/profile\");\r\n        console.log(res.status);\r\n        //console.log(res);\r\n        //console.log(res.text());\r\n        console.log(\"salut\");\r\n        if (res.status >= 200 && res.status<400 ) {\r\n          console.log(res);\r\n\r\n          dispatch(this.loginSuccess());\r\n          console.log(\"Succes\");\r\n        } else {\r\n       //   console.log(res);\r\n          const error = new Error(res);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError());\r\n       // console.error(err.value);\r\n        console.log(\"2111111113222222222222222222\");\r\n      });\r\n  };\r\n};\r\nexport const loginRequest = () => {\r\n  return {\r\n    type: LOGIN_REQUEST,\r\n  };\r\n};\r\n\r\nexport const loginSucces = (res) => {\r\n  return {\r\n    type: LOGIN_SUCCES,\r\n    payload: res.data,\r\n  };\r\n};\r\n\r\nexport const loginError = (err) => {\r\n  return {\r\n    type: LOGIN_ERROR,\r\n    payload: err,\r\n  };\r\n};\r\nexport const fetchUsersRegister = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(`http://localhost:2000/api/user/create`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        // cookie.set(\"token\", res.data.access_token);\r\n        // cookie.set(\"user\", res.data.user);\r\n        //////// this.props.history.push(\"/profile\");\r\n        if (res.status === 201) {\r\n          dispatch(this.loginSuccess(res));\r\n          console.log(res.email);\r\n          console.log(res.headers);\r\n          console.log(\"Succes\");\r\n        } else {\r\n          console.log(res);\r\n          const error = new Error(res);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n        console.error(err.value);\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchUsersData = ({ username, password }) => {\r\n  return (dispatch) => {\r\n    dispatch(this.loginRequest());\r\n    fetch(\"http://localhost:5080/login\", {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\r\n      body: { username: username, password: password }, //\"password\"),\r\n    })\r\n      .then((res) => {\r\n        console.log(res.status);\r\n        console.log(res.text());\r\n        console.log(\"Salutttttttttttttttt\");\r\n        console.log(res.body);\r\n        if (res.status === 200) {\r\n          console.log(res);\r\n\r\n          dispatch(this.loginSuccess());\r\n          console.log(\"Succes\");\r\n        } else {\r\n          console.log(res);\r\n          const error = new Error(res);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError());\r\n        console.error(err.value);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}