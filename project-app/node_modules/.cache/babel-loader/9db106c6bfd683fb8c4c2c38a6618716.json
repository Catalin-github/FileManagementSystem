{"ast":null,"code":"import React from \"react\";\nimport { LOGIN_REQUEST, LOGIN_SUCCES, LOGIN_ERROR, EDIT_PROFILE } from \"./actionType\";\nimport Cookies from \"js-cookie\";\nexport const fetchUsersLogin = ({\n  email,\n  password\n}) => {\n  const data = {\n    email,\n    password\n  };\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(\"http://localhost:5000/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(data),\n      credentials: \"include\"\n    }).then(res => {\n      if (res.status === 200) {\n        dispatch(loginSuccess({\n          email,\n          password\n        }));\n      } else {\n        const error = new Error(res);\n        throw error;\n      }\n    }).catch(err => {\n      dispatch(loginError(err));\n    });\n  };\n};\nexport const fetchUsersRegister = data => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(`http://localhost:5000/register`, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => res.json()).then(res => {\n      const user = res.data;\n      dispatch(loginSuccess(user));\n    }).catch(err => {\n      dispatch(loginError(err));\n      console.error(err.value);\n    });\n  };\n};\nexport const fetchUsersData = data => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(\"http://localhost:5000/MyAccount\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => {\n      dispatch(loginSuccess(data));\n    }).catch(err => {\n      dispatch(loginError());\n    });\n  };\n};\nexport const verifyAuthentication = () => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(`http://localhost:5000/verifyToken`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"access-token\": `Baerer ${Cookies.get(\"jwt\")}`\n      },\n      credentials: \"include\"\n    }).then(res => res.json()).then(res => {\n      const user = res.data;\n      dispatch(loginSuccess(user));\n    }).catch(err => {\n      dispatch(loginError(err));\n      console.error(err.value);\n    });\n  };\n};\nexport const fetchUsersRegister_GET = data => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(`http://localhost:5000/register`, {\n      method: \"GET\",\n      body: JSON.stringify(),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => {\n      if (res.status === 200) {\n        dispatch(loginSuccess(data));\n      } else {\n        console.log(res);\n        const error = new Error(res);\n        throw error;\n      }\n    }).catch(err => {\n      dispatch(loginError(err));\n    });\n  };\n};\nexport const logoutUser = () => {\n  return dispatch => {\n    dispatch(loginRequest());\n    fetch(\"http://localhost:5000/logout\", {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentialls: \"include\"\n    }).then(res => {\n      if (res.status === 200) {}\n\n      dispatch(loginError());\n    });\n  };\n};\nexport const fetchUsersEditProfile = data => {\n  return dispatch => {\n    fetch(`http://localhost:5000/MyAccount`, {\n      method: \"POST\",\n      body: JSON.stringify(data),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => res.json()).then(res => {\n      const user = res.data;\n      dispatch(loginSuccess(user));\n      dispatch(editProfile());\n    });\n  };\n};\nexport const fetchUserDeleteAccount = () => {\n  return dispatch => {\n    fetch(`http://localhost:5000/MyAccount`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: \"include\"\n    }).then(res => {\n      dispatch(editProfile());\n      dispatch(loginError());\n    }).catch(err => {\n      dispatch(loginError(err));\n    });\n  };\n};\nexport const loginRequest = () => {\n  return {\n    type: LOGIN_REQUEST\n  };\n};\nexport const loginSuccess = res => {\n  return {\n    type: LOGIN_SUCCES,\n    payload: res\n  };\n};\nexport const loginError = err => {\n  return {\n    type: LOGIN_ERROR,\n    payload: err\n  };\n};\nexport const editProfile = () => {\n  return {\n    type: EDIT_PROFILE\n  };\n};","map":{"version":3,"sources":["C:/Users/Samuel M/React/Project/project-app/src/redux/Authentication/action.js"],"names":["React","LOGIN_REQUEST","LOGIN_SUCCES","LOGIN_ERROR","EDIT_PROFILE","Cookies","fetchUsersLogin","email","password","data","dispatch","loginRequest","fetch","method","headers","body","JSON","stringify","credentials","then","res","status","loginSuccess","error","Error","catch","err","loginError","fetchUsersRegister","json","user","console","value","fetchUsersData","verifyAuthentication","get","fetchUsersRegister_GET","log","logoutUser","credentialls","fetchUsersEditProfile","editProfile","fetchUserDeleteAccount","type","payload"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport {\r\n  LOGIN_REQUEST,\r\n  LOGIN_SUCCES,\r\n  LOGIN_ERROR,\r\n  EDIT_PROFILE,\r\n} from \"./actionType\";\r\nimport Cookies from \"js-cookie\";\r\n\r\n\r\n\r\nexport const fetchUsersLogin = ({ email, password }) => {\r\n  const data = {\r\n    email,\r\n    password,\r\n  };\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(\"http://localhost:5000/login\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(data),\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(loginSuccess({ email, password }));\r\n\r\n        } else {\r\n          const error = new Error(res);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const fetchUsersRegister = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n\r\n    fetch(`http://localhost:5000/register`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n  \r\n        const user = res.data;\r\n\r\n        dispatch(loginSuccess(user));\r\n\r\n      })\r\n\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n        console.error(err.value);\r\n      });\r\n  };\r\n};\r\n\r\n\r\nexport const fetchUsersData = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(\"http://localhost:5000/MyAccount\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    })\r\n      .then((res) => {\r\n        dispatch(loginSuccess(data));\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError());\r\n      });\r\n  };\r\n};\r\nexport const verifyAuthentication = () => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(`http://localhost:5000/verifyToken`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"access-token\": `Baerer ${Cookies.get(\"jwt\")}`,\r\n      },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n \r\n        const user = res.data;\r\n\r\n        dispatch(loginSuccess(user));\r\n      })\r\n\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n        console.error(err.value);\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchUsersRegister_GET = (data) => {\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n\r\n    fetch(`http://localhost:5000/register`, {\r\n      method: \"GET\",\r\n      body: JSON.stringify(),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          dispatch(loginSuccess(data));\r\n        } else {\r\n          console.log(res);\r\n          const error = new Error(res);\r\n          throw error;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const logoutUser = () => {\r\n\r\n\r\n  return (dispatch) => {\r\n    dispatch(loginRequest());\r\n    fetch(\"http://localhost:5000/logout\", {\r\n      method: \"GET\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentialls: \"include\",\r\n    })\r\n    .then((res) => {\r\n\r\n\r\n      if (res.status === 200) {\r\n      }\r\n      dispatch(loginError());\r\n\r\n    });\r\n\r\n  };\r\n};\r\n\r\nexport const fetchUsersEditProfile = (data) => {\r\n  return (dispatch) => {\r\n    fetch(`http://localhost:5000/MyAccount`, {\r\n      method: \"POST\",\r\n      body: JSON.stringify(data),\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n\r\n        const user = res.data;\r\n\r\n        dispatch(loginSuccess(user));\r\n        dispatch(editProfile());\r\n      });\r\n  };\r\n};\r\n\r\nexport const fetchUserDeleteAccount = () => {\r\n  return (dispatch) => {\r\n    fetch(`http://localhost:5000/MyAccount`, {\r\n      method: \"DELETE\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n    })\r\n      .then((res) => {\r\n     dispatch(editProfile());\r\n\r\n          dispatch(loginError());\r\n        \r\n      })\r\n      .catch((err) => {\r\n        dispatch(loginError(err));\r\n      });\r\n  };\r\n};\r\n\r\nexport const loginRequest = () => {\r\n  return {\r\n    type: LOGIN_REQUEST,\r\n  };\r\n};\r\n\r\nexport const loginSuccess = (res) => {\r\n  return {\r\n    type: LOGIN_SUCCES,\r\n    payload: res,\r\n  };\r\n};\r\n\r\nexport const loginError = (err) => {\r\n  return {\r\n    type: LOGIN_ERROR,\r\n    payload: err,\r\n  };\r\n};\r\n\r\nexport const editProfile = () => {\r\n  return {\r\n    type: EDIT_PROFILE,\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}